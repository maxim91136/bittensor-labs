<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#0a0e12" />
  <meta name="description" content="Bittensor-Labs ‚Äì Real-time Network Dashboard with TAO price tracking" />
  <meta name="keywords" content="Bittensor, TAO, Blockchain, Dashboard, Network Stats" />
  <title>Bittensor-Labs</title>

  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'><stop offset='0%25' stop-color='%2322c55e'/><stop offset='100%25' stop-color='%2316a34a'/></linearGradient></defs><circle cx='12' cy='12' r='3' fill='url(%23g)'/><path d='M12 12L4 4M12 12L20 4M12 12L4 20M12 12L20 20' stroke='%2322c55e' stroke-width='1.5' opacity='0.4'/><circle cx='4' cy='4' r='2' fill='%23ff6b35'/><circle cx='20' cy='4' r='2' fill='%23ff6b35'/><circle cx='4' cy='20' r='2' fill='%23ff6b35'/><circle cx='20' cy='20' r='2' fill='%23ff6b35'/></svg>" type="image/svg+xml" />

  <link rel="preload" href="style.css" as="style" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js" defer></script>
  <script src="script.js" defer></script>
</head>
<body>
<header class="site-header">
  <div class="header-content">
    <div class="refresh-logo-row">
      <div id="refresh-indicator" class="refresh-indicator" title="Auto-refresh"></div>
      <div class="logo-section">
        <!-- Logo bleibt unver√§ndert -->
        <div class="logo">
          <span class="brand-mark" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="22" height="22" role="img" focusable="false">
              <defs>
                <linearGradient id="node-glow" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#22c55e"/>
                  <stop offset="100%" stop-color="#16a34a"/>
                </linearGradient>
              </defs>
              <!-- Zentral-Knoten -->
              <circle cx="12" cy="12" r="3" fill="url(#node-glow)" opacity="0.9"/>
              <!-- Verbindungslinien -->
              <path d="M12 12L4 4M12 12L20 4M12 12L4 20M12 12L20 20" 
                    stroke="#22c55e" stroke-width="1.5" stroke-linecap="round" opacity="0.4"/>
              <!-- √Ñu√üere Knoten -->
              <circle cx="4" cy="4" r="2" fill="#ff6b35" opacity="0.8"/>
              <circle cx="20" cy="4" r="2" fill="#ff6b35" opacity="0.8"/>
              <circle cx="4" cy="20" r="2" fill="#ff6b35" opacity="0.8"/>
              <circle cx="20" cy="20" r="2" fill="#ff6b35" opacity="0.8"/>
            </svg>
          </span>
          <div class="logo-text">
            <span class="logo-title">Bittensor-Labs</span>
            <span class="logo-subtitle">the incentive layer dashboard</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- NEU: Pills in einer Zeile gruppieren -->
    <div class="pills-row">
      <div class="halving-pill" data-tooltip="Next halving at 10.5M TAO. Emission drops by 50%.">
        <span class="halving-icon">üî•</span>
        <span id="halvingCountdown">Calculating...</span>
      </div>
      <div class="price-pill" id="taoPricePill" title="TAO Price (USD)">
        <span class="price-icon">œÑ</span>
        <span id="taoPrice" class="skeleton-text"></span>
        <span id="priceChange" class="price-change" style="display: none;"></span>
      </div>
    </div>
  </div>
</header>

<main class="dashboard">
  <div class="stats-grid">
    <div class="stat-card">
      <span class="info-badge" data-tooltip="Current block height of the Bittensor blockchain">i</span>
      <div class="stat-icon" aria-hidden="true">‚õìÔ∏è</div>
      <div class="stat-content">
        <div class="stat-label">Block</div>
        <div class="stat-value" id="blockHeight">‚Äî</div>
      </div>
    </div>
   <a class="stat-card" href="https://taostats.io/subnets" target="_blank" rel="noopener noreferrer" title="View Subnet Explorer on Taostats.io" style="text-decoration: none; color: inherit; cursor: pointer; position: relative;">
  <!-- Info-Badge vom Link ausnehmen -->
  <span class="info-badge" data-tooltip="Number of active subnets in the network" style="position: absolute; top: 10px; left: 10px; z-index: 2; pointer-events: auto;"></span>
  <div class="stat-icon" aria-hidden="true">üß©</div>
  <div class="stat-content">
    <div class="stat-label">Subnets</div>
    <div class="stat-value" id="subnets">‚Äî</div>
  </div>
</a>
    <div class="stat-card">
      <span class="info-badge" data-tooltip="Number of active validators securing the network">i</span>
      <div class="stat-icon" aria-hidden="true">üßë‚Äçüíª</div>
      <div class="stat-content">
        <div class="stat-label">Validators</div>
        <div class="stat-value" id="validators">‚Äî</div>
      </div>
    </div>
    <div class="stat-card">
      <span class="info-badge" data-tooltip="Current circulating supply of TAO tokens">i</span>
      <div class="stat-icon" aria-hidden="true">üíé</div>
      <div class="stat-content">
        <div class="stat-label">Circ. Supply</div>
        <div class="stat-value" id="circulatingSupply">‚Äî</div>
      </div>
    </div>
    <div class="stat-card">
      <span class="info-badge" data-tooltip="Market capitalization = price √ó circulating supply">i</span>
      <div class="stat-icon" aria-hidden="true">üí∞</div>
      <div class="stat-content">
        <div class="stat-label">Mkt Cap</div>
        <div class="stat-value" id="marketCap">‚Äî</div>
      </div>
    </div>
    <div class="stat-card">
      <span class="info-badge" data-tooltip="Fully Diluted Valuation = price √ó max supply">i</span>
      <div class="stat-icon" aria-hidden="true">üåê</div>
      <div class="stat-content">
        <div class="stat-label">FDV</div>
        <div class="stat-value" id="fdv">‚Äî</div>
      </div>
    </div>
    <div class="stat-card">
      <span class="info-badge" data-tooltip="Current emission rate of TAO per day">i</span>
      <div class="stat-icon" aria-hidden="true">‚ö°</div>
      <div class="stat-content">
        <div class="stat-label">Emission</div>
        <div class="stat-value" id="emission">‚Äî</div>
      </div>
    </div>
    <div class="stat-card">
      <span class="info-badge" data-tooltip="Total number of neurons in the network">i</span>
      <div class="stat-icon" aria-hidden="true">üß†</div>
      <div class="stat-content">
        <div class="stat-label">Neurons</div>
        <div class="stat-value" id="totalNeurons">‚Äî</div>
      </div>
    </div>
  </div>

  <div class="dashboard-grid">
    <!-- Keep only ONE price chart card -->
    <section class="dashboard-card loading" aria-labelledby="price-heading">
      <div class="card-header">
        <h2 id="price-heading">TAO Price History</h2>
        <div class="time-range-toggle">
          <button class="time-btn active" data-range="7">7D</button>
          <button class="time-btn" data-range="30">30D</button>
          <button class="time-btn" data-range="365">1Y</button>
        </div>
      </div>
      <div class="chart-container">
        <canvas id="priceChart" aria-label="Price History Chart"></canvas>
        <div class="chart-skeleton"></div>
      </div>
      <div id="priceRangeNote" class="chart-note" aria-live="polite"></div>
    </section>
      <div class="last-update" id="lastUpdate"></div>
    <!-- Disclaimer Card -->
    <section class="dashboard-card disclaimer-card">
      <div class="disclaimer-header">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="12" y1="16" x2="12" y2="12"></line>
          <line x1="12" y1="8" x2="12.01" y2="8"></line>
        </svg>
        <h3>Disclaimer & Data Sources</h3>
      </div>

      <div class="disclaimer-content">
        <p class="disclaimer-text">
          This is an <strong>unofficial community project</strong> and hobby dashboard.<br>
          Not affiliated with or endorsed by the Opentensor Foundation.<br>
          "Bittensor" and "TAO" are trademarks of their respective owners.<br>
          Price and supply data are sourced from Taostats and CoinGecko for good accuracy.
        </p>

        <div class="data-sources-grid">
          <div class="source-item">
            <span class="source-label">Network Data</span>
            <a href="https://github.com/opentensor/bittensor" target="_blank" rel="noopener noreferrer">
              Bittensor Python SDK
            </a>
          </div>
          <div class="source-item">
            <span class="source-label">Price & Supply</span>
            <a href="https://taostats.io/" target="_blank" rel="noopener noreferrer">
              Taostats API
            </a>
          </div>
          <div class="source-item">
            <span class="source-label">Price & Supply</span>
            <a href="https://www.coingecko.com/en/api" target="_blank" rel="noopener noreferrer">
              CoinGecko API
            </a>
          </div>
          <div class="source-item">
            <span class="source-label">Source Code</span>
            <a href="https://github.com/maxim91136/bittensor-labs" target="_blank" rel="noopener noreferrer">
              GitHub Repository
            </a>
          </div>
          <div class="source-item">
            <span class="source-label">Official Site</span>
            <a href="https://bittensor.com" target="_blank" rel="noopener noreferrer">
              bittensor.com
            </a>
          </div>
        </div>

        <p class="coingecko-attribution">
          This product uses the Taostats and CoinGecko APIs but is not endorsed or certified by either provider.
        </p>
      </div>
    </section>
  </div>
</main>

<footer class="site-footer">
  <p>¬© 2025 Bittensor-Labs ¬∑ Unofficial Community Project ¬∑ Built with ‚ù§Ô∏è for everybody</p>
</footer>
</body>
</html>